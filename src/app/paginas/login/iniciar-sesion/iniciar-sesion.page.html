<ion-content class="ion-padding">
  <div class="container">
    <div class="texto">
      <h2>Bienvenido!</h2>
      <p>Inicie sesión para empezar</p>
    </div>
    <div class="login-container">
      <form [formGroup]="form" class="auth-form" (ngSubmit)="submit()" (keypress.enter)="submit()">
        <div class="input-container">
          <ion-icon name="mail-outline"></ion-icon>
          <ion-input type="email" placeholder="Correo" formControlName="email"></ion-input>
        </div>
        <div class="validators" *ngIf="form.controls.email.errors && form.controls.email.touched">
          <div *ngIf="form.controls.email.errors?.['required']">El correo es requerido</div>
          <div *ngIf="form.controls.email.errors?.['email']">Ingrese un correo válido</div>
        </div>

        <div class="input-container">
          <ion-icon name="lock-closed-outline"></ion-icon>
          <ion-input
            [type]="showPassword ? 'text' : 'password'"
            placeholder="Contraseña"
            formControlName="password"
          ></ion-input>
          <ion-icon
            [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"
            (click)="togglePasswordVisibility()"
            class="eye-icon"
          ></ion-icon>
        </div>
        <p class="forgot-password">¿Olvidaste tu contraseña?</p>

        <div class="button-container">
          <ion-button
            type="submit"
            class="boton login-btn"
            expand="block"
            fill="clear"
            shape="round"
            [disabled]="form.invalid"

          >
            <ion-icon name="log-in-outline"></ion-icon>
            Ingresar
          </ion-button>

          <ion-button
            routerLink="/registro"
            class="boton register-btn"
            expand="block"
            fill="clear"
            shape="round"
          >
            <ion-icon name="person-add-outline"></ion-icon>
            Registrarse
          </ion-button>
        </div>
      </form>

      <div class="opciones-container">
        <span class="line"></span>
        <p class="opciones">O registrarse con</p>
        <span class="line"></span>
      </div>

      <div class="social-login">
        <div class="social-buttons">
          <button class="btn-icon facebook" (click)="loginWithFacebook()">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png"
              alt="Facebook"
            />
          </button>
          <button class="btn-icon google" (click)="signInWithGoogle()">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQExly8Xk3GWUOkmUGETvVobduKHck3ivnVA&s"
              alt="Google"
            />
          </button>
        </div>
      </div>
    </div>
  </div>
</ion-content>
